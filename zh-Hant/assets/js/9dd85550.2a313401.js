"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[5573],{7639:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>c,toc:()=>d});var t=s(4848),r=s(8453);const i={},a="\u4f7f\u7528 wasm-pack",c={id:"getting-started/project-setup/using-wasm-pack",title:"\u4f7f\u7528 wasm-pack",description:"\u9019\u500b\u5de5\u5177\u7531 Rust / Wasm Working Group \u958b\u767c\uff0c\u662f\u5efa\u7f6e WebAssembly \u61c9\u7528\u7a0b\u5f0f\u4e2d\uff0c\u793e\u7fa4\u6700\u6d3b\u8e8d\u7684\u958b\u767c\u5de5\u5177\u3002\u4ed6\u53ef\u4ee5\u5e6b\u5fd9\u6253\u5305\u7a0b\u5f0f\u78bc\u9032 npm \u7684\u6a21\u7d44\u4e2d\uff0c\u540c\u6642\u4e5f\u6709\u4e00\u500b\u76f8\u61c9\u7684 Webpack plugin \u53ef\u4ee5\u914d\u5408\u4f7f\u7528\uff0c\u4e26\u8f15\u9b06\u8ddf\u5df2\u7d93\u5b58\u5728\u7684 JavaScript \u61c9\u7528\u7a0b\u5f0f\u6574\u5408\u3002\u8a73\u60c5\u8acb\u53c3\u8003\u9019\u88e1\u3002",source:"@site/i18n/zh-Hant/docusaurus-plugin-content-docs/version-0.18.0/getting-started/project-setup/using-wasm-pack.mdx",sourceDirName:"getting-started/project-setup",slug:"/getting-started/project-setup/using-wasm-pack",permalink:"/zh-Hant/docs/0.18.0/getting-started/project-setup/using-wasm-pack",draft:!1,unlisted:!1,editUrl:"https://google.com/versioned_docs/version-0.18.0/getting-started/project-setup/using-wasm-pack.mdx",tags:[],version:"0.18.0",frontMatter:{},sidebar:"docs",previous:{title:"Using trunk",permalink:"/zh-Hant/docs/0.18.0/getting-started/project-setup/using-trunk"},next:{title:"\u4f7f\u7528 cargo-web",permalink:"/zh-Hant/docs/0.18.0/getting-started/project-setup/using-cargo-web"}},l={},d=[{value:"Install",id:"install",level:2},{value:"Build",id:"build",level:2},{value:"Bundle",id:"bundle",level:2},{value:"Serve",id:"serve",level:2},{value:"\u652f\u63f4\u76ee\u6a19\u5e73\u53f0",id:"\u652f\u63f4\u76ee\u6a19\u5e73\u53f0",level:2}];function o(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"\u4f7f\u7528-wasm-pack",children:"\u4f7f\u7528 wasm-pack"})}),"\n",(0,t.jsxs)(n.p,{children:["\u9019\u500b\u5de5\u5177\u7531 Rust / Wasm Working Group \u958b\u767c\uff0c\u662f\u5efa\u7f6e WebAssembly \u61c9\u7528\u7a0b\u5f0f\u4e2d\uff0c\u793e\u7fa4\u6700\u6d3b\u8e8d\u7684\u958b\u767c\u5de5\u5177\u3002\u4ed6\u53ef\u4ee5\u5e6b\u5fd9\u6253\u5305\u7a0b\u5f0f\u78bc\u9032 ",(0,t.jsx)(n.code,{children:"npm"})," \u7684\u6a21\u7d44\u4e2d\uff0c\u540c\u6642\u4e5f\u6709\u4e00\u500b\u76f8\u61c9\u7684 ",(0,t.jsx)(n.a,{href:"https://github.com/wasm-tool/wasm-pack-plugin",children:"Webpack plugin"})," \u53ef\u4ee5\u914d\u5408\u4f7f\u7528\uff0c\u4e26\u8f15\u9b06\u8ddf\u5df2\u7d93\u5b58\u5728\u7684 JavaScript \u61c9\u7528\u7a0b\u5f0f\u6574\u5408\u3002\u8a73\u60c5\u8acb\u53c3\u8003",(0,t.jsx)(n.a,{href:"https://rustwasm.github.io/docs/wasm-pack/introduction.html",children:"\u9019\u88e1"}),"\u3002"]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["\u6ce8\u610f\uff0c\u4f7f\u7528 ",(0,t.jsx)(n.code,{children:"wasm-pack"})," \u6642\uff0c",(0,t.jsx)(n.code,{children:"Cargo.toml"})," \u7684 crate-type \u5fc5\u9808\u662f ",(0,t.jsx)(n.code,{children:"cdylib"}),"\u3002"]})}),"\n",(0,t.jsx)(n.h2,{id:"install",children:"Install"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cargo install wasm-pack\n"})}),"\n",(0,t.jsx)(n.h2,{id:"build",children:"Build"}),"\n",(0,t.jsxs)(n.p,{children:["\u9019\u500b\u6307\u4ee4\u6703\u7de8\u8b6f\u4f60\u7684\u7a0b\u5f0f\u78bc\uff0c\u4e26\u5c07\u7de8\u8b6f\u597d\u7684 WebAssembly \u8207\u7528\u65bc\u555f\u52d5\u5c08\u6848\u7684 JavaScript wrapper\uff0c\u5728 .",(0,t.jsx)(n.code,{children:"/pkg"})," \u7684\u8cc7\u6599\u593e\u4e2d\u88fd\u4f5c\u6210\u4e00\u500b bundle\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"wasm-pack build\n"})}),"\n",(0,t.jsx)(n.h2,{id:"bundle",children:"Bundle"}),"\n",(0,t.jsxs)(n.p,{children:["\u6709\u95dc\u66f4\u591a Rollup \u7684\u8cc7\u8a0a\uff0c\u8acb\u53c3\u898b\u9019\u500b",(0,t.jsx)(n.a,{href:"https://rollupjs.org/guide/en/#quick-start",children:"\u6307\u5357"}),"\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"rollup ./main.js --format iife --file ./pkg/bundle.js\n"})}),"\n",(0,t.jsx)(n.h2,{id:"serve",children:"Serve"}),"\n",(0,t.jsxs)(n.p,{children:["\u4f60\u53ef\u4ee5\u4f7f\u7528\u4efb\u4f55\u4f60\u559c\u6b61\u7684\u4f3a\u670d\u5668\u670d\u52d9\u3002\u9019\u88e1\u6211\u5011\u53ea\u793a\u7bc4\u7528\u7528\u7c21\u6613\u7684 python \u4f3a\u670d\u5668\u670d\u52d9\uff0c\u5728 ",(0,t.jsx)(n.a,{href:"http://%5B::1%5D:8000",children:"http://[::1]:8000"})," \u555f\u52d5\u6211\u5011\u7684\u5c08\u6848\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"python -m http.server 8000\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u652f\u63f4\u76ee\u6a19\u5e73\u53f0",children:"\u652f\u63f4\u76ee\u6a19\u5e73\u53f0"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"wasm32-unknown-unknown"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>c});var t=s(6540);const r={},i=t.createContext(r);function a(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);