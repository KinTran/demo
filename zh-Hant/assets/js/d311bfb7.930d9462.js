"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[5051],{444:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>l});var r=t(4848),o=t(8453);const s={description:"Yew \u7684\u5b98\u65b9\u8def\u7531\u5668"},c="\u8def\u7531\u5668",i={id:"concepts/router",title:"\u8def\u7531\u5668",description:"Yew \u7684\u5b98\u65b9\u8def\u7531\u5668",source:"@site/i18n/zh-Hant/docusaurus-plugin-content-docs/version-0.18.0/concepts/router.mdx",sourceDirName:"concepts",slug:"/concepts/router",permalink:"/demo/zh-Hant/docs/0.18.0/concepts/router",draft:!1,unlisted:!1,editUrl:"https://google.com/versioned_docs/version-0.18.0/concepts/router.mdx",tags:[],version:"0.18.0",frontMatter:{description:"Yew \u7684\u5b98\u65b9\u8def\u7531\u5668"},sidebar:"docs",previous:{title:"Format",permalink:"/demo/zh-Hant/docs/0.18.0/concepts/services/format"},next:{title:"Agents",permalink:"/demo/zh-Hant/docs/0.18.0/concepts/agents"}},d={},l=[{value:"\u6838\u5fc3\u5143\u7d20",id:"\u6838\u5fc3\u5143\u7d20",level:2},{value:"Route",id:"route",level:3},{value:"RouteService",id:"routeservice",level:3},{value:"RouteAgent",id:"routeagent",level:3},{value:"Switch",id:"switch",level:3},{value:"Router",id:"router",level:3},{value:"\u5982\u4f55\u4f7f\u7528\u8def\u7531\u5668",id:"\u5982\u4f55\u4f7f\u7528\u8def\u7531\u5668",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u8def\u7531\u5668",children:"\u8def\u7531\u5668"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://crates.io/crates/yew-router",children:"https://crates.io/crates/yew-router"})}),"\n",(0,r.jsx)(n.p,{children:"\u55ae\u9801\u61c9\u7528\u7a0b\u5f0f\uff08SPA\uff09\u4e2d\u7684\u8def\u7531\u5668\uff0c\u6703\u4f9d\u64da URL \u4f86\u986f\u793a\u4e0d\u540c\u7684\u756b\u9762\u3002\u7576\u9023\u7d50\u88ab\u9ede\u64ca\u5f8c\uff0c\u8def\u7531\u5668\u6c92\u6709\u9810\u8a2d\u8981\u8acb\u6c42\u9060\u7aef\u7684\u8cc7\u6e90\uff0c \u800c\u662f\u5c07 URL \u8a2d\u5b9a\u5c0e\u5411\u61c9\u7528\u7a0b\u5f0f\u4e2d\u7684\u6709\u6548\u8def\u7531\u3002\u8def\u7531\u5668\u6703\u5075\u6e2c URL \u88ab\u66f4\u6539\uff0c\u7136\u5f8c\u6c7a\u5b9a\u8981\u6e32\u67d3\u4ec0\u9ebc\u756b\u9762\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u6838\u5fc3\u5143\u7d20",children:"\u6838\u5fc3\u5143\u7d20"}),"\n",(0,r.jsx)(n.h3,{id:"route",children:"Route"}),"\n",(0,r.jsx)(n.p,{children:"\u5305\u542b\u4e00\u500b\u5b57\u4e32\uff0c\u9019\u500b\u5b57\u4e32\u662f\u7db2\u57df\u540d\u5f8c\u7684\u90a3\u4e32\u6587\u5b57\uff0c\u4e26\u4e14\u53ef\u4ee5\u9078\u64c7\u8981\u4e0d\u8981\u5c07\u72c0\u614b\u5b58\u5165 history api\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"routeservice",children:"RouteService"}),"\n",(0,r.jsx)(n.p,{children:"\u8207\u700f\u89bd\u5668\u6e9d\u901a\uff0c\u5b58\u53d6\u8def\u7531\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"routeagent",children:"RouteAgent"}),"\n",(0,r.jsx)(n.p,{children:"\u64c1\u6709 RouteService \u4e26\u4e14\u5354\u8abf\u8207\u66f4\u65b0\uff0c\u5f9e\u61c9\u7528\u7a0b\u5f0f\u908f\u8f2f\u9020\u6210\u7684\uff0c\u6216\u662f\u5f9e\u700f\u89bd\u5668\u4e8b\u4ef6\u4e2d\u9020\u6210\u7684\uff0c\u8def\u7531\u7684\u6539\u8b8a\u3002"}),"\n",(0,r.jsx)(n.h3,{id:"switch",children:"Switch"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Switch"})," trait \u7528\u65bc\u8b93 Route \u5728\u5be6\u4f5c\u7684 ",(0,r.jsx)(n.code,{children:"trait"})," \u4e4b\u9593\u4f86\u56de\u8f49\u63db\u3002"]}),"\n",(0,r.jsx)(n.h3,{id:"router",children:"Router"}),"\n",(0,r.jsxs)(n.p,{children:["Router \u5143\u4ef6\u6703\u8207 ",(0,r.jsx)(n.code,{children:"RouteAgent"})," \u6e9d\u901a\uff0c\u4e26\u4e14\u81ea\u52d5\u89e3\u6790\u5f9e agent \u5230 switch \u7684 Routes\uff0cRoutes \u6703\u5728 render \u7684 \u5c6c\u6027\u4e2d\u88ab\u63ed\u9732\uff0c\u9019\u500b\u5c6c\u6027\u6703\u6c7a\u5b9a switch \u7684\u7d50\u679c\u5982\u4f55\u88ab\u8f49\u63db\u6210 ",(0,r.jsx)(n.code,{children:"Html"}),"\u3002"]}),"\n",(0,r.jsx)(n.h2,{id:"\u5982\u4f55\u4f7f\u7528\u8def\u7531\u5668",children:"\u5982\u4f55\u4f7f\u7528\u8def\u7531\u5668"}),"\n",(0,r.jsxs)(n.p,{children:["\u9996\u5148\uff0c\u4f60\u8981\u5efa\u7acb\u4e00\u500b\u4ee3\u8868\u4f60\u7684\u61c9\u7528\u7a0b\u5f0f\u6240\u6709\u72c0\u614b\u7684\u578b\u5225\u3002\u7279\u5225\u6ce8\u610f\uff0c\u9019\u500b\u578b\u5225\u53ef\u4ee5\u662f enum\u3001struct \u90fd\u53ef\u4ee5\uff0c\u800c\u4e14\u4f60\u53ef\u4ee5\u900f\u904e\u5728\u88e1\u9762\u5be6\u4f5c ",(0,r.jsx)(n.code,{children:"Switch"})," \u4f86\u5de2\u72c0\u5176\u4ed6\u9805\u76ee"]}),"\n",(0,r.jsxs)(n.p,{children:["\u7136\u5f8c\u4f60\u5fc5\u9808\u70ba\u4f60\u7684\u578b\u5225 derive ",(0,r.jsx)(n.code,{children:"Switch"})," \u3002\u5c0d enums \u4f86\u8aaa\uff0c\u6bcf\u4e00\u500b\u8b8a\u6578\u90fd\u5fc5\u9808\u5ba3\u544a ",(0,r.jsx)(n.code,{children:'#[to = "/some/route"]'}),"\uff0c\u6216\u662f\u5982\u679c\u4f60\u7528 struct\uff0c\u90a3\u5c31\u8981 struct \u7684\u5916\u90e8\u5ba3\u544a\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'#[derive(Switch)]\r\nenum AppRoute {\r\n  #[to="/login"]\r\n  Login,\r\n  #[to="/register"]\r\n  Register,\r\n  #[to="/delete_account"]\r\n  Delete,\r\n  #[to="/posts/{id}"]\r\n  ViewPost(i32),\r\n  #[to="/posts/view"]\r\n  ViewPosts,\r\n  #[to="/"]\r\n  Home\r\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u7279\u5225\u6ce8\u610f\uff0c\u9019\u500b\u5de8\u96c6\u6703\u8a66\u8457\u4f9d\u5e8f\u914d\u5c0d\u6bcf\u500b\u8b8a\u6578\uff0c\u6240\u4ee5\u5982\u679c\u6709\u4efb\u4f55\u8def\u7531\u53ef\u80fd\u914d\u5c0d\u5230\u5169\u8457\u4e0d\u540c\u7684 ",(0,r.jsx)(n.code,{children:"to"})," \u5ba3\u544a\uff0c\u90a3\u6703\u914d\u5c0d\u5230\u7b2c\u4e00\u500b\uff0c\u800c\u7b2c\u4e8c\u500b\u5c31\u6c38\u9060\u4e0d\u6703\u88ab\u914d\u5c0d\u5230\u3002\u8209\u4f8b\u4f86\u8aaa\uff0c\u5982\u679c\u4f60\u5b9a\u7fa9\u4ee5\u4e0b\u7684 ",(0,r.jsx)(n.code,{children:"Switch"})," \uff0c\u90a3\u8def\u7531\u5c07\u6c38\u9060\u53ea\u6703\u914d\u5c0d\u5230 ",(0,r.jsx)(n.code,{children:"AppRoute::Home"}),"\u3002"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'#[derive(Switch)]\r\nenum AppRoute {\r\n  #[to="/"]\r\n  Home,\r\n  #[to="/login"]\r\n  Login,\r\n  #[to="/register"]\r\n  Register,\r\n  #[to="/delete_account"]\r\n  Delete,\r\n  #[to="/posts/{id}"]\r\n  ViewPost(i32),\r\n  #[to="/posts/view"]\r\n  ViewPosts,\r\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["\u4f60\u9084\u53ef\u4ee5\u62ff\u5230 url \u4e2d\u7684\u53c3\u6578\uff0c\u900f\u904e\u5728",(0,r.jsx)(n.code,{children:'#[to = ""]'})," \u4e2d\u5ba3\u544a ",(0,r.jsx)(n.code,{children:"{}"}),"\u3002",(0,r.jsx)(n.code,{children:"{}"}),' \u4ee3\u8868\u4e0b\u4e00\u500b\u5206\u9694\u7b26\u865f\uff08"/"\u3001"?"\u3001"&"\u3001"#" \uff09\u4e4b\u524d\uff0c url \u4e2d\u7684\u53c3\u6578\u3002',(0,r.jsx)(n.code,{children:"{*}"})," \u8868\u793a\u53d6\u5f97\u76f4\u5230\u5f8c\u7e8c\u5b57\u7b26\u5339\u914d\u70ba\u6b62\u4e4b\u9593\u7684\u8b8a\u6578\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u4efb\u4f55\u5b57\u4e32\uff0c\u5247\u5b83\u5c07\u5339\u914d\u4efb\u4f55\u5167\u5bb9\u3002 ",(0,r.jsx)(n.code,{children:"{<number>}"})," \u8868\u793a\u53d6\u5f97\u7279\u5b9a\u6578\u91cf\u7684\u7684\u5206\u9694\u7b26\u865f\u4e4b\u524d\u7684\u8b8a\u6578\u3002\uff08\u4f8b\u5982\uff1a ",(0,r.jsx)(n.code,{children:"{2}"})," \u6703\u53d6\u5f97\u5169\u500b\u5206\u9694\u7b26\u865f\u4e4b\u524d\u7684\u8b8a\u6578\u3002\uff09"]}),"\n",(0,r.jsxs)(n.p,{children:["\u5c0d\u65bc\u6709\u547d\u540d\u6b04\u4f4d\u7684 struct \u8207 enum\uff0c\u4f60\u5fc5\u9808\u7d66\u51fa\u8b8a\u6578\u7684\u540d\u5b57\uff0c\u50cf\u662f\uff1a ",(0,r.jsx)(n.code,{children:"{user_name}"})," \u6216\u662f ",(0,r.jsx)(n.code,{children:"{*:age}"}),"\u3002"]}),"\n",(0,r.jsxs)(n.p,{children:["Switch trait \u53ef\u4ee5\u5354\u52a9\u53d6\u5f97\u6bd4\u8d77\u5b57\u4e32\u8981\u66f4\u6709\u7d50\u69cb\u7684\u8b8a\u6578\u3002\u4f60\u53ef\u4ee5\u5be6\u4f5c ",(0,r.jsx)(n.code,{children:"Switch"}),"\uff0c\u9019\u6a23\u4f60\u5c31\u53ef\u4ee5\u5f97\u5230\u7279\u5b9a\u7d50\u69cb\u7684\u8b8a\u6578\uff0c\u800c\u4ed6\u6703\u662f\u4e00\u500b ",(0,r.jsx)(n.code,{children:"unsize"}),"\u3002\u4f46\u5982\u679c\u9019\u500b URL \u7121\u6cd5\u88ab\u8f49\u63db\uff0c\u5c31\u6703\u88ab\u8996\u70ba\u6c92\u6709\u5339\u914d\u3002"]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>i});var r=t(6540);const o={},s=r.createContext(o);function c(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);