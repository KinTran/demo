"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[1771],{1533:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>c,default:()=>a,frontMatter:()=>s,metadata:()=>i,toc:()=>l});var t=n(4848),o=n(8453);const s={description:"\u7236\u5143\u4ef6\u8207\u5b50\u5143\u4ef6\u7684\u6e9d\u901a\u6a4b\u6a11"},c="Properties",i={id:"advanced-topics/struct-components/properties",title:"Properties",description:"\u7236\u5143\u4ef6\u8207\u5b50\u5143\u4ef6\u7684\u6e9d\u901a\u6a4b\u6a11",source:"@site/i18n/zh-Hant/docusaurus-plugin-content-docs/version-0.21/advanced-topics/struct-components/properties.mdx",sourceDirName:"advanced-topics/struct-components",slug:"/advanced-topics/struct-components/properties",permalink:"/zh-Hant/docs/advanced-topics/struct-components/properties",draft:!1,unlisted:!1,editUrl:"https://google.com/versioned_docs/version-0.21/advanced-topics/struct-components/properties.mdx",tags:[],version:"0.21",frontMatter:{description:"\u7236\u5143\u4ef6\u8207\u5b50\u5143\u4ef6\u7684\u6e9d\u901a\u6a4b\u6a11"},sidebar:"docs",previous:{title:"Callbacks",permalink:"/zh-Hant/docs/advanced-topics/struct-components/callbacks"},next:{title:"Refs",permalink:"/zh-Hant/docs/advanced-topics/struct-components/refs"}},d={},l=[{value:"Derive macro",id:"derive-macro",level:2},{value:"\u5fc5\u586b\u7684\u6b04\u4f4d",id:"\u5fc5\u586b\u7684\u6b04\u4f4d",level:3},{value:"PartialEq",id:"partialeq",level:3},{value:"\u5c6c\u6027\u7684\u8a18\u61b6\u9ad4\u8207\u901f\u5ea6\u7684\u958b\u92b7",id:"\u5c6c\u6027\u7684\u8a18\u61b6\u9ad4\u8207\u901f\u5ea6\u7684\u958b\u92b7",level:2},{value:"\u7bc4\u4f8b",id:"\u7bc4\u4f8b",level:2}];function p(e){const r={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"properties",children:"Properties"})}),"\n",(0,t.jsx)(r.p,{children:"\u5c6c\u6027\u8b93\u5b50\u5143\u4ef6\u8207\u7236\u5143\u4ef6\u53ef\u4ee5\u4e92\u76f8\u6e9d\u901a\u3002"}),"\n",(0,t.jsx)(r.h2,{id:"derive-macro",children:"Derive macro"}),"\n",(0,t.jsxs)(r.p,{children:["\u4e0d\u8981\u5617\u8a66\u81ea\u5df1\u5be6\u4f5c ",(0,t.jsx)(r.code,{children:"Properties"}),"\uff0c\u800c\u662f\u7528",(0,t.jsx)(r.code,{children:"#[derive(Properties)]"}),"derive \u4ed6\u3002"]}),"\n",(0,t.jsx)(r.h3,{id:"\u5fc5\u586b\u7684\u6b04\u4f4d",children:"\u5fc5\u586b\u7684\u6b04\u4f4d"}),"\n",(0,t.jsxs)(r.p,{children:["\u9810\u8a2d\u6240\u6709\u5728 ",(0,t.jsx)(r.code,{children:"Properties"})," struct \u88e1\u7684\u6b04\u4f4d\u90fd\u662f\u5fc5\u586b\u7684\u3002\u7576\u5fc5\u586b\u7684\u6b04\u4f4d\u6c92\u6709\u503c\uff0c\u800c\u5143\u4ef6\u5728 ",(0,t.jsx)(r.code,{children:"html!"})," \u5de8\u96c6\u4e2d\u53c8\u88ab\u5efa\u7acb\uff0c\u7de8\u8b6f\u5668\u5c31\u6703\u5831\u932f\u3002\u5982\u679c\u5e0c\u671b\u6b04\u4f4d\u662f\u53ef\u9078\u7684\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,t.jsx)(r.code,{children:"#[prop_or_default]"})," \u4f86\u8b93\u8a72\u6b04\u4f4d\u6709\u9810\u8a2d\u503c\u3002\u5982\u679c\u5e0c\u671b\u6b04\u4f4d\u9810\u8a2d\u7279\u5b9a\u503c\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,t.jsx)(r.code,{children:"#[prop_or_else(value)]"})," \uff0c\u88e1\u9762\u7684 value \u5c31\u6703\u662f\u9019\u500b\u6b04\u4f4d\u7684\u9810\u8a2d\u503c\u3002\u8209\u4f8b\u4f86\u8aaa\uff0c\u5e0c\u671b\u9810\u8a2d\u503c\u662f ",(0,t.jsx)(r.code,{children:"true"}),"\u53ef\u4ee5\u5728\u6b04\u4f4d\u5ba3\u544a\u4e0a\u9762\u9019\u6a23\u5beb ",(0,t.jsx)(r.code,{children:"#[prop_or_else(true)]"}),". \u901a\u5e38\u53ef\u9078\u7684\u5c6c\u6027\uff0c\u6703\u7528 ",(0,t.jsx)(r.code,{children:"Option"})," \uff0c\u4e14\u9810\u8a2d\u503c\u70ba",(0,t.jsx)(r.code,{children:"None"}),"\u3002"]}),"\n",(0,t.jsx)(r.h3,{id:"partialeq",children:"PartialEq"}),"\n",(0,t.jsxs)(r.p,{children:["\u5982\u679c\u53ef\u4ee5\uff0c\u6700\u597d\u5728\u4f60\u7684\u5c6c\u6027\u4e0a\u9762 derive ",(0,t.jsx)(r.code,{children:"PartialEq"})," \u3002\u4ed6\u53ef\u4ee5\u907f\u514d\u756b\u9762\u591a\u9918\u7684\u6e32\u67d3\uff0c\u66f4\u7d30\u7bc0\u7684\u5167\u5bb9\u8acb\u53c3\u8003\uff0c",(0,t.jsx)(r.strong,{children:"\u512a\u5316\u8207\u6700\u4f73\u5be6\u4f8b"}),"\u7684\u5340\u584a\u3002"]}),"\n",(0,t.jsx)(r.h2,{id:"\u5c6c\u6027\u7684\u8a18\u61b6\u9ad4\u8207\u901f\u5ea6\u7684\u958b\u92b7",children:"\u5c6c\u6027\u7684\u8a18\u61b6\u9ad4\u8207\u901f\u5ea6\u7684\u958b\u92b7"}),"\n",(0,t.jsxs)(r.p,{children:["\u5728 ",(0,t.jsx)(r.code,{children:"Component::view"}),",\u88e1\uff0c\u4f60\u53ef\u4ee5\u62ff\u5230\u5143\u4ef6\u72c0\u614b\u7684\u53c3\u8003\uff0c\u4e14\u7528\u4ed6\u4f86\u5efa\u7acb ",(0,t.jsx)(r.code,{children:"Html"})," \u3002\u4f46\u662f\u5c6c\u6027\u662f\u6709\u6240\u6709\u6b0a\u7684\u3002\u9019\u4ee3\u8868\u8457\u70ba\u4e86\u5efa\u7acb\u5c6c\u6027\uff0c\u4e26\u4e14\u5c07\u4ed6\u5011\u50b3\u905e\u7d66\u5b50\u5143\u4ef6\uff0c\u6211\u5011\u5fc5\u9808\u53d6\u5f97\u88ab ",(0,t.jsx)(r.code,{children:"view"})," \u65b9\u6cd5\u62ff\u8d70\u7684\u6240\u6709\u6b0a\u3002 \u7576\u5c07\u53c3\u8003\u50b3\u7d66\u5143\u4ef6\u6642\uff0c\u53ef\u4ee5\u900f\u904e\u96b1\u5f0f\u7684\u8907\u88fd\u4f86\u505a\u5230\u5f97\u5230\u6240\u6709\u6b0a\u3002"]}),"\n",(0,t.jsx)(r.p,{children:"\u9019\u610f\u5473\u8457\uff0c\u6bcf\u500b\u5143\u4ef6\uff0c\u90fd\u6709\u5f9e\u7236\u5143\u4ef6\u50b3\u905e\u4e0b\u4f86\u7684\u7368\u6709\u7684\u72c0\u614b\u8907\u672c\uff0c\u4e14\u6bcf\u7576\u4f60\u91cd\u65b0\u6e32\u67d3\u4e00\u6b21\u5143\u4ef6\uff0c\u88ab\u91cd\u65b0\u6e32\u67d3\u7684\u5143\u4ef6\u7684\u6240\u6709\u7684\u5b50\u5143\u4ef6\u7684\u5c6c\u6027\u5c31\u6703\u88ab\u91cd\u65b0\u8907\u88fd\u4e00\u6b21\u3002"}),"\n",(0,t.jsxs)(r.p,{children:["\u4ee3\u8868\u5982\u679c\u4f60\u8981\u5728\u5c6c\u6027\u4e2d\u50b3\u905e",(0,t.jsx)(r.em,{children:"\u5927\u91cf"}),"\u7684\u8cc7\u6599\uff08\u5927\u65bc 10 KB \u7684\u5b57\u4e32\u4e4b\u985e\u7684\uff09\uff0c\u4f60\u53ef\u80fd\u9700\u8981\u8003\u616e\u5c07\u4f60\u7684\u5b50\u5143\u4ef6\u8b8a\u6210\u4e00\u500b\u56de\u50b3 ",(0,t.jsx)(r.code,{children:"Html"})," \u7684\u65b9\u6cd5\uff0c\u8b93\u7236\u5143\u4ef6\u547c\u53eb\uff0c\u4ee5\u907f\u514d\u8cc7\u6599\u88ab\u8907\u88fd\u3002"]}),"\n",(0,t.jsxs)(r.p,{children:["\u5982\u679c\u4f60\u4e0d\u9700\u8981\u6539\u8b8a\u50b3\u4e0b\u53bb\u7684\u8cc7\u6599\uff0c\u4f60\u53ef\u4ee5\u7528 ",(0,t.jsx)(r.code,{children:"Rc"})," \u5c07\u8cc7\u6599\u5305\u88dd\u8d77\u4f86\uff0c\u9019\u6a23\u5c31\u6703\u53ea\u8907\u88fd\u53c3\u8003\u7684\u6307\u91dd\uff0c\u800c\u4e0d\u662f\u8cc7\u6599\u672c\u8eab\u3002"]}),"\n",(0,t.jsx)(r.h2,{id:"\u7bc4\u4f8b",children:"\u7bc4\u4f8b"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:"use std::rc::Rc;\r\nuse yew::Properties;\r\n\r\n#[derive(Clone, PartialEq)]\r\npub enum LinkColor {\r\n    Blue,\r\n    Red,\r\n    Green,\r\n    Black,\r\n    Purple,\r\n}\r\n\r\nimpl Default for LinkColor {\r\n    fn default() -> Self {\r\n        // \u9664\u975e\u6709\u6307\u5b9a\uff0c\u5426\u5247\u9810\u8a2d\u662f\u85cd\u8272\r\n        LinkColor::Blue\r\n    }\r\n}\r\n\r\n#[derive(Properties, Clone, PartialEq)]\r\npub struct LinkProps {\r\n    /// \u9023\u7d50\u5fc5\u9808\u8981\u6709\u4e00\u500b\u76ee\u6a19\r\n    href: String,\r\n    /// \u5982\u679c\u9023\u7d50\u6587\u5b57\u5f88\u5927\uff0c\u8907\u88fd\u5b57\u4e32\u7684\u53c3\u8003\u53ef\u4ee5\u6e1b\u5c11\u8a18\u61b6\u9ad4\u7684\u958b\u92b7\r\n    /// \u4f46\u9664\u975e\u6548\u80fd\u5df2\u7d93\u6210\u70ba\u56b4\u91cd\u7684\u554f\u984c\uff0c\u5426\u5247\u901a\u5e38\u4e0d\u5efa\u8b70\u9019\u9ebc\u505a\r\n    text: Rc<String>,\r\n    /// \u9023\u7d50\u7684\u984f\u8272\r\n    #[prop_or_default]\r\n    color: LinkColor,\r\n    /// \u5982\u679c\u70ba None\uff0c\u90a3 view \u65b9\u6cd5\u5c07\u4e0d\u6703\u6307\u5b9a size\r\n    #[prop_or_default]\r\n    size: Option<u32>,\r\n    /// \u7576\u6c92\u6709\u6307\u5b9a active\uff0c\u9810\u8a2d\u70ba true\r\n    #[prop_or(true)]\r\n    active: bool,\r\n}\n"})})]})}function a(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>c,x:()=>i});var t=n(6540);const o={},s=t.createContext(o);function c(e){const r=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),t.createElement(s.Provider,{value:r},e.children)}}}]);