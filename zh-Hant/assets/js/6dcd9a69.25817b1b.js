"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[7681],{1337:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var t=s(4848),r=s(8453);const i={title:"\u90e8\u7f72",description:"\u90e8\u7f72 Yew \u61c9\u7528\u7a0b\u5f0f"},d=void 0,o={id:"more/deployment",title:"\u90e8\u7f72",description:"\u90e8\u7f72 Yew \u61c9\u7528\u7a0b\u5f0f",source:"@site/i18n/zh-Hant/docusaurus-plugin-content-docs/current/more/deployment.mdx",sourceDirName:"more",slug:"/more/deployment",permalink:"/zh-Hant/docs/next/more/deployment",draft:!1,unlisted:!1,editUrl:"https://google.com/docs/more/deployment.mdx",tags:[],version:"current",frontMatter:{title:"\u90e8\u7f72",description:"\u90e8\u7f72 Yew \u61c9\u7528\u7a0b\u5f0f"},sidebar:"docs",previous:{title:"\u8abf\u8a66",permalink:"/zh-Hant/docs/next/more/debugging"},next:{title:"CSS",permalink:"/zh-Hant/docs/next/more/css"}},l={},c=[{value:"\u4f3a\u670d\u5668\u914d\u7f6e",id:"\u4f3a\u670d\u5668\u914d\u7f6e",level:2},{value:"\u5c07 <code>index.html</code> \u7576\u4f5c\u56de\u9000\u63d0\u4f9b",id:"\u5c07-indexhtml-\u7576\u4f5c\u56de\u9000\u63d0\u4f9b",level:3},{value:"\u70ba Web Assembly \u8cc7\u6e90\u914d\u7f6e\u6b63\u78ba\u7684 MIME \u985e\u578b\u3002",id:"\u70ba-web-assembly-\u8cc7\u6e90\u914d\u7f6e\u6b63\u78ba\u7684-mime-\u985e\u578b",level:3},{value:"\u70ba\u76f8\u5c0d\u8def\u5f91\u69cb\u5efa",id:"\u70ba\u76f8\u5c0d\u8def\u5f91\u69cb\u5efa",level:2},{value:"\u4f7f\u7528\u74b0\u5883\u8b8a\u6578\u81ea\u8a02\u884c\u70ba",id:"\u4f7f\u7528\u74b0\u5883\u8b8a\u6578\u81ea\u8a02\u884c\u70ba",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"\u7576\u60a8\u6e96\u5099\u5c07 Yew \u61c9\u7528\u7a0b\u5f0f\u90e8\u7f72\u5230\u4f3a\u670d\u5668\u6642\uff0c\u60a8\u6709\u591a\u7a2e\u90e8\u7f72\u65b9\u6848\u53ef\u4ee5\u9078\u64c7\u3002"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"trunk build --release"})," \u6703\u4ee5\u767c\u5e03\u6a21\u5f0f\u5efa\u7acb\u60a8\u7684\u61c9\u7528\u7a0b\u5f0f\u3002\u8a2d\u5b9a\u60a8\u7684HTTP \u4f3a\u670d\u5668\uff0c\u4ee5\u4fbf\u5728\u5b58\u53d6\u60a8\u7684\u7db2\u7ad9\u6642\u63d0\u4f9b",(0,t.jsx)(n.code,{children:"index.html"}),"\uff0c\u4e26\u4e14\u5c0d\u65bc\u975c\u614b\u8def\u5f91\uff08\u4f8b\u5982",(0,t.jsx)(n.code,{children:"index_<hash>.js"})," \u548c",(0,t.jsx)(n.code,{children:"index_bg_<hash>.wasm"}),"\uff09\u7684\u8acb\u6c42\uff0c\u61c9\u8a72\u5f9etrunk\u7522\u751f\u7684dist \u76ee\u9304\u4e2d\u63d0\u4f9b\u76f8\u61c9\u7684\u5167\u5bb9\u3002"]}),"\n",(0,t.jsxs)(n.admonition,{type:"important",children:[(0,t.jsxs)(n.mdxAdmonitionTitle,{children:["\u6709\u95dc ",(0,t.jsx)(n.code,{children:"trunk serve --release"})]}),(0,t.jsxs)(n.p,{children:["\u4e0d\u8981\u5728\u751f\u7522\u74b0\u5883\u4e2d\u4f7f\u7528 ",(0,t.jsx)(n.code,{children:"trunk serve --release"})," \u4f86\u63d0\u4f9b\u60a8\u7684\u61c9\u7528\u7a0b\u5f0f\u3002\r\n\u5b83\u53ea\u61c9\u8a72\u7528\u65bc\u5728\u958b\u767c\u904e\u7a0b\u4e2d\u6e2c\u8a66\u767c\u5e03\u7248\u672c\u5efa\u7f6e\u3002"]})]}),"\n",(0,t.jsx)(n.h2,{id:"\u4f3a\u670d\u5668\u914d\u7f6e",children:"\u4f3a\u670d\u5668\u914d\u7f6e"}),"\n",(0,t.jsxs)(n.h3,{id:"\u5c07-indexhtml-\u7576\u4f5c\u56de\u9000\u63d0\u4f9b",children:["\u5c07 ",(0,t.jsx)(n.code,{children:"index.html"})," \u7576\u4f5c\u56de\u9000\u63d0\u4f9b"]}),"\n",(0,t.jsxs)(n.p,{children:["\u5982\u679c\u61c9\u7528\u7a0b\u5f0f\u4f7f\u7528\u4e86 ",(0,t.jsx)(n.a,{href:"/zh-Hant/docs/next/concepts/router",children:"Yew \u8def\u7531"}),"\uff0c\u60a8\u5fc5\u9808\u8a2d\u5b9a\u4f3a\u670d\u5668\u5728\u8acb\u6c42\u4e0d\u5b58\u5728\u7684\u6a94\u6848\u6642\u50b3\u56de ",(0,t.jsx)(n.code,{children:"index.html"}),"\u3002"]}),"\n",(0,t.jsxs)(n.p,{children:["\u5177\u6709 Yew \u8def\u7531\u7684\u61c9\u7528\u7a0b\u5f0f\u88ab\u5efa\u69cb\u70ba ",(0,t.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Glossary/SPA",children:"\u55ae\u9801\u61c9\u7528\u7a0b\u5f0f (SPA)"}),"\u3002\u7576\u4f7f\u7528\u8005\u5f9e\u6b63\u5728\u57f7\u884c\u7684\u7528\u6236\u7aef\u5c0e\u89bd\u5230 URL \u6642\uff0c\u8def\u7531\u5668\u6703\u89e3\u91cb URL \u4e26\u8def\u7531\u5230\u8a72\u9801\u9762\u3002"]}),"\n",(0,t.jsx)(n.p,{children:"\u4f46\u662f\u5728\u5237\u65b0\u9801\u9762\u6216\u5728\u7db2\u5740\u5217\u4e2d\u8f38\u5165 URL \u6642\uff0c\u9019\u4e9b\u64cd\u4f5c\u90fd\u662f\u7531\u700f\u89bd\u5668\u672c\u8eab\u8655\u7406\u7684\uff0c\u800c\u4e0d\u662f\u7531\u6b63\u5728\u57f7\u884c\u7684\u61c9\u7528\u7a0b\u5f0f\u8655\u7406\u3002\u700f\u89bd\u5668\u76f4\u63a5\u5411\u4f3a\u670d\u5668\u8acb\u6c42\u8a72 URL\uff0c\u7e5e\u904e\u4e86\u8def\u7531\u5668\u3002\u932f\u8aa4\u914d\u7f6e\u7684\u4f3a\u670d\u5668\u6703\u56de\u50b3 404 - \u672a\u627e\u5230 \u72c0\u614b\u3002"}),"\n",(0,t.jsxs)(n.p,{children:["\u900f\u904e\u8fd4\u56de ",(0,t.jsx)(n.code,{children:"index.html"}),"\uff0c\u61c9\u7528\u7a0b\u5f0f\u6703\u50cf\u901a\u5e38\u4e00\u6a23\u52a0\u8f09\uff0c\u5c31\u597d\u50cf\u8acb\u6c42\u662f ",(0,t.jsx)(n.code,{children:"/"}),"\uff0c\u76f4\u5230\u8def\u7531\u5668\u6ce8\u610f\u5230\u8def\u7531\u662f ",(0,t.jsx)(n.code,{children:"/show/42"})," \u4e26\u986f\u793a\u76f8\u61c9\u7684\u5167\u5bb9\u3002"]}),"\n",(0,t.jsx)(n.h3,{id:"\u70ba-web-assembly-\u8cc7\u6e90\u914d\u7f6e\u6b63\u78ba\u7684-mime-\u985e\u578b",children:"\u70ba Web Assembly \u8cc7\u6e90\u914d\u7f6e\u6b63\u78ba\u7684 MIME \u985e\u578b\u3002"}),"\n",(0,t.jsxs)(n.p,{children:["WASM \u6a94\u6848\u5fc5\u9808\u4f7f\u7528 ",(0,t.jsx)(n.code,{children:"application/wasm"})," MIME \u985e\u578b\u8a2d\u5b9a ",(0,t.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type",children:"Content-Type \u982d"}),"\u3002"]}),"\n",(0,t.jsx)(n.p,{children:"\u5927\u591a\u6578\u4f3a\u670d\u5668\u548c\u8a17\u7ba1\u670d\u52d9\u9810\u8a2d\u5df2\u7d93\u9019\u6a23\u505a\u3002\u5982\u679c\u60a8\u7684\u4f3a\u670d\u5668\u6c92\u6709\u9019\u6a23\u505a\uff0c\u8acb\u67e5\u95b1\u5176\u6587\u4ef6\u3002\u5728\u5927\u591a\u6578 Web \u700f\u89bd\u5668\u4e2d\uff0c\u932f\u8aa4\u7684 MIME \u985e\u578b\u6703\u5c0e\u81f4\u985e\u4f3c\u4ee5\u4e0b\u7684\u932f\u8aa4\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ignore",children:"`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\r\n TypeError: WebAssembly: Response has unsupported MIME type 'text/plain' expected 'application/wasm'\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u70ba\u76f8\u5c0d\u8def\u5f91\u69cb\u5efa",children:"\u70ba\u76f8\u5c0d\u8def\u5f91\u69cb\u5efa"}),"\n",(0,t.jsxs)(n.p,{children:["\u9810\u8a2d\u60c5\u6cc1\u4e0b\uff0ctrunk \u6703\u5047\u5b9a\u60a8\u7684\u7db2\u7ad9\u5728 ",(0,t.jsx)(n.code,{children:"/"})," \u8655\u63d0\u4f9b\uff0c\u4e26\u76f8\u61c9\u5730\u5efa\u7acb\u7db2\u7ad9\u3002\u53ef\u4ee5\u900f\u904e\u5728 ",(0,t.jsx)(n.code,{children:"index.html"})," \u6a94\u6848\u4e2d\u52a0\u5165 ",(0,t.jsx)(n.code,{children:"<base data-trunk-public-url />"})," \u4f86\u8986\u5beb\u6b64\u884c\u70ba\u3002 Trunk \u6703\u91cd\u5beb\u6b64\u6a19\u7c64\u4ee5\u5305\u542b\u50b3\u905e\u7d66 ",(0,t.jsx)(n.code,{children:"--public-url"})," \u7684\u503c\u3002 Yew \u8def\u7531\u6703\u81ea\u52d5\u5075\u6e2c ",(0,t.jsx)(n.code,{children:"<base />"})," \u7684\u5b58\u5728\u4e26\u9069\u7576\u8655\u7406\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"\u4f7f\u7528\u74b0\u5883\u8b8a\u6578\u81ea\u8a02\u884c\u70ba",children:"\u4f7f\u7528\u74b0\u5883\u8b8a\u6578\u81ea\u8a02\u884c\u70ba"}),"\n",(0,t.jsxs)(n.p,{children:["\u901a\u5e38\u4f7f\u7528\u74b0\u5883\u8b8a\u6578\u4f86\u81ea\u8a02\u5efa\u69cb\u74b0\u5883\u3002\u7531\u65bc\u61c9\u7528\u7a0b\u5f0f\u5728\u700f\u89bd\u5668\u4e2d\u904b\u884c\uff0c\u6211\u5011\u7121\u6cd5\u5728\u904b\u884c\u6642\u8b80\u53d6\u74b0\u5883\u8b8a\u6578\u3002\r\n",(0,t.jsx)(n.a,{href:"https://doc.rust-lang.org/std/macro.env.html",children:(0,t.jsx)(n.code,{children:"std::env!"})})," \u5de8\u96c6\u53ef\u4ee5\u5728\u7de8\u8b6f\u6642\u53d6\u5f97\u74b0\u5883\u8b8a\u6578\u7684\u503c\u3002"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>o});var t=s(6540);const r={},i=t.createContext(r);function d(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);