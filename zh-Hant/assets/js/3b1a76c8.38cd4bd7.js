"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[1772],{2467:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>c,toc:()=>u});var t=r(4848),s=r(8453),l=r(1470),i=r(9365);const a={title:"HTML",sidebar_label:"Introduction",description:"The procedural macro for generating HTML and SVG"},o=void 0,c={id:"concepts/html/introduction",title:"HTML",description:"The procedural macro for generating HTML and SVG",source:"@site/versioned_docs/version-0.18.0/concepts/html/introduction.mdx",sourceDirName:"concepts/html",slug:"/concepts/html/introduction",permalink:"/demo/zh-Hant/docs/0.18.0/concepts/html/introduction",draft:!1,unlisted:!1,editUrl:"https://google.com/versioned_docs/version-0.18.0/concepts/html/introduction.mdx",tags:[],version:"0.18.0",frontMatter:{title:"HTML",sidebar_label:"Introduction",description:"The procedural macro for generating HTML and SVG"},sidebar:"docs",previous:{title:"web-sys",permalink:"/demo/zh-Hant/docs/0.18.0/concepts/wasm-bindgen/web-sys"},next:{title:"Components",permalink:"/demo/zh-Hant/docs/0.18.0/concepts/html/components"}},d={},u=[{value:"Tag Structure",id:"tag-structure",level:2},{value:"Children",id:"children",level:2},{value:"Special properties",id:"special-properties",level:2},{value:"Relevant examples",id:"relevant-examples",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"html!"})," macro allows you to write HTML and SVG code declaratively. It is similar to JSX\r\n(an extension to JavaScript which allows you to write HTML-like code inside of JavaScript)."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Important notes"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.code,{children:"html!"})," macro only accepts a single root HTML node (this obstacle is easily overcome by\r\n",(0,t.jsx)(n.a,{href:"/demo/zh-Hant/docs/0.18.0/concepts/html/lists",children:"using fragments or iterators"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:["An empty ",(0,t.jsx)(n.code,{children:"html! {}"})," invocation is valid and will not render anything"]}),"\n",(0,t.jsxs)(n.li,{children:["Literals must always be wrapped in quotes as well as braces (i.e.\r\n",(0,t.jsx)(n.code,{children:'html! { <p>{"Hello, World"}</p> }'})," is valid, but not ",(0,t.jsx)(n.code,{children:"html! { <p>Hello, World</p> }"})," or\r\n",(0,t.jsx)(n.code,{children:'html! { <p>"Hello, World"</p> }'}),")."]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["The requirement to need braces and quotes was not a deliberate design choice (just in case you're\r\nwondering)! It's needed in order to make parsing the tokens fed into the ",(0,t.jsx)(n.code,{children:"html!"})," macro possible."]})}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"html!"}),' macro can cause problems because it makes a lot of recursive calls. This means that it\r\ncan exceed the default recursion limit of the compiler. If you encounter a compilation error\r\n(which might say something about "overflow" or "recursion limit reached") adding an attribute like\r\n',(0,t.jsx)(n.code,{children:'#![recursion_limit="1024"]'})," to your crate root should fix the problem."]})}),"\n",(0,t.jsx)(n.h2,{id:"tag-structure",children:"Tag Structure"}),"\n",(0,t.jsxs)(n.p,{children:["Tags inside the ",(0,t.jsx)(n.code,{children:"html!"})," macros are heavily inspired by HTML tags. Components, elements, and lists\r\nall use the tag syntax."]}),"\n",(0,t.jsxs)(n.p,{children:["Every tag must either either close itself (e.g. ",(0,t.jsx)(n.code,{children:"<br/>"}),") or there must be a corresponding closing\r\ntag for each opening tag (e.g. ",(0,t.jsx)(n.code,{children:"<div></div>"}),")."]}),"\n",(0,t.jsxs)(l.A,{children:[(0,t.jsx)(i.A,{value:"Open - Close",label:"Open - Close",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:'use yew::html;\r\n\r\nhtml! {\r\n  <div id="my_div"></div>\r\n};\n'})})}),(0,t.jsx)(i.A,{value:"Invalid",label:"Invalid",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",metastring:",compile_fail",children:'use yew::html;\r\n\r\nhtml! {\r\n  <div id="my_div"> // <- MISSING CLOSE TAG\r\n};\n'})})})]}),"\n",(0,t.jsxs)(l.A,{children:[(0,t.jsx)(i.A,{value:"Self-closing",label:"Self-closing",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:'use yew::html;\r\n\r\nhtml! {\r\n  <input id="my_input" />\r\n};\n'})})}),(0,t.jsx)(i.A,{value:"Invalid",label:"Invalid",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",metastring:",compile_fail",children:'use yew::html;\r\n\r\nhtml! {\r\n  <input id="my_input"> // <- MISSING SELF-CLOSE\r\n};\n'})})})]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["For convenience, elements which ",(0,t.jsx)(n.em,{children:"usually"})," require a closing tag can be declared using the\r\nself-closing syntax (e.g. ",(0,t.jsx)(n.code,{children:'html! { <div class="placeholder" /> }'})," is valid)."]})}),"\n",(0,t.jsx)(n.h2,{id:"children",children:"Children"}),"\n",(0,t.jsx)(n.p,{children:"Tags become much more powerful once we start to nest them. Tags may have children (which can be\r\nother standard HTML tags or other Yew components)."}),"\n",(0,t.jsxs)(l.A,{children:[(0,t.jsx)(i.A,{value:"HTML",label:"HTML",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:'use yew::html;\r\n\r\nhtml! {\r\n    <div>\r\n        <div data-key="abc"></div>\r\n        <div class="parent">\r\n            <span class="child" value="anything"></span>\r\n            <label for="first-name">{ "First Name" }</label>\r\n            <input type="text" id="first-name" value="placeholder" />\r\n            <input type="checkbox" checked=true />\r\n            <textarea value="write a story" />\r\n            <select name="status">\r\n                <option selected=true disabled=false value="">{ "Selected" }</option>\r\n                <option selected=false disabled=true value="">{ "Unselected" }</option>\r\n            </select>\r\n        </div>\r\n    </div>\r\n};\n'})})}),(0,t.jsx)(i.A,{value:"SVG",label:"SVG",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",children:'use yew::html;\r\n\r\nhtml! {\r\n    <svg width="149" height="147" viewBox="0 0 149 147" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n        <path d="M60.5776 13.8268L51.8673 42.6431L77.7475 37.331L60.5776 13.8268Z" fill="#DEB819"/>\r\n        <path d="M108.361 94.9937L138.708 90.686L115.342 69.8642" stroke="black" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>\r\n        <g filter="url(#filter0_d)">\r\n            <circle cx="75.3326" cy="73.4918" r="55" fill="#FDD630"/>\r\n            <circle cx="75.3326" cy="73.4918" r="52.5" stroke="black" stroke-width="5"/>\r\n        </g>\r\n        <circle cx="71" cy="99" r="5" fill="white" fill-opacity="0.75" stroke="black" stroke-width="3"/>\r\n        <defs>\r\n            <filter id="filter0_d" x="16.3326" y="18.4918" width="118" height="118" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\r\n                <feGaussianBlur stdDeviation="2"/>\r\n                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>\r\n            </filter>\r\n        </defs>\r\n    </svg>\r\n};\n'})})})]}),"\n",(0,t.jsx)(n.h2,{id:"special-properties",children:"Special properties"}),"\n",(0,t.jsx)(n.p,{children:"Some properties aren't handed directly to the browser; instead Yew uses them when working out how to\r\ndisplay your components."}),"\n",(0,t.jsxs)(n.p,{children:["Currently, there are two such special props: ",(0,t.jsx)(n.code,{children:"ref"})," and ",(0,t.jsx)(n.code,{children:"key"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"ref"})," allows you to access and manipulate the underlying DOM node directly. See\r\n",(0,t.jsx)(n.a,{href:"/demo/zh-Hant/docs/0.18.0/concepts/components/refs",children:"Refs"})," for more details. This can be very useful if you want to interoperate with\r\nJavascript libraries (for example, to add a map or code editor written in Javascript that would not\r\nbe feasible to rewrite in Rust)."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"key"})," on the other hand gives an element in a list a unique identifier which Yew can use for\r\nto render lists more efficiently."]}),"\n",(0,t.jsxs)(n.admonition,{type:"important",children:[(0,t.jsxs)(n.p,{children:["The documentation for keys is yet to be written. See ",(0,t.jsx)(n.a,{href:"https://github.com/yewstack/yew/issues/1263",children:"#1263"}),"."]}),(0,t.jsx)(n.p,{children:"For now, use keys when you have a list where the order of elements might change. This includes\r\ninserting or removing elements from anywhere but the end of the list."})]}),"\n",(0,t.jsx)(n.h2,{id:"relevant-examples",children:"Relevant examples"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.a,{href:"https://github.com/yewstack/yew/tree/master/examples/node_refs",children:"NodeRef example"})]}),"\n",(0,t.jsxs)(n.li,{children:["An example of ",(0,t.jsx)(n.a,{href:"https://github.com/siku2/rust-monaco/blob/master/src/yew/mod.rs",children:"using NodeRefs to integrate a code editor into an application"})]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},9365:(e,n,r)=>{r.d(n,{A:()=>i});r(6540);var t=r(4164);const s={tabItem:"tabItem_Ymn6"};var l=r(4848);function i(e){let{children:n,hidden:r,className:i}=e;return(0,l.jsx)("div",{role:"tabpanel",className:(0,t.A)(s.tabItem,i),hidden:r,children:n})}},1470:(e,n,r)=>{r.d(n,{A:()=>w});var t=r(6540),s=r(4164),l=r(3104),i=r(6347),a=r(205),o=r(7485),c=r(1682),d=r(679);function u(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:r}=e;return(0,t.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:r,attributes:t,default:s}}=e;return{value:n,label:r,attributes:t,default:s}}))}(r);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,r])}function p(e){let{value:n,tabValues:r}=e;return r.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:r}=e;const s=(0,i.W6)(),l=function(e){let{queryString:n=!1,groupId:r}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:n,groupId:r});return[(0,o.aZ)(l),(0,t.useCallback)((e=>{if(!l)return;const n=new URLSearchParams(s.location.search);n.set(l,e),s.replace({...s.location,search:n.toString()})}),[l,s])]}function f(e){const{defaultValue:n,queryString:r=!1,groupId:s}=e,l=h(e),[i,o]=(0,t.useState)((()=>function(e){let{defaultValue:n,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const t=r.find((e=>e.default))??r[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:l}))),[c,u]=m({queryString:r,groupId:s}),[f,x]=function(e){let{groupId:n}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(n),[s,l]=(0,d.Dv)(r);return[s,(0,t.useCallback)((e=>{r&&l.set(e)}),[r,l])]}({groupId:s}),v=(()=>{const e=c??f;return p({value:e,tabValues:l})?e:null})();(0,a.A)((()=>{v&&o(v)}),[v]);return{selectedValue:i,selectValue:(0,t.useCallback)((e=>{if(!p({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),x(e)}),[u,x,l]),tabValues:l}}var x=r(2303);const v={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=r(4848);function g(e){let{className:n,block:r,selectedValue:t,selectValue:i,tabValues:a}=e;const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,l.a_)(),d=e=>{const n=e.currentTarget,r=o.indexOf(n),s=a[r].value;s!==t&&(c(n),i(s))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const r=o.indexOf(e.currentTarget)+1;n=o[r]??o[0];break}case"ArrowLeft":{const r=o.indexOf(e.currentTarget)-1;n=o[r]??o[o.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":r},n),children:a.map((e=>{let{value:n,label:r,attributes:l}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:t===n?0:-1,"aria-selected":t===n,ref:e=>o.push(e),onKeyDown:u,onClick:d,...l,className:(0,s.A)("tabs__item",v.tabItem,l?.className,{"tabs__item--active":t===n}),children:r??n},n)}))})}function y(e){let{lazy:n,children:r,selectedValue:l}=e;const i=(Array.isArray(r)?r:[r]).filter(Boolean);if(n){const e=i.find((e=>e.props.value===l));return e?(0,t.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==l})))})}function j(e){const n=f(e);return(0,b.jsxs)("div",{className:(0,s.A)("tabs-container",v.tabList),children:[(0,b.jsx)(g,{...n,...e}),(0,b.jsx)(y,{...n,...e})]})}function w(e){const n=(0,x.A)();return(0,b.jsx)(j,{...e,children:u(e.children)},String(n))}},8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>a});var t=r(6540);const s={},l=t.createContext(s);function i(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);