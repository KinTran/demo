"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[6929],{6763:(e,n,c)=>{c.r(n),c.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>a,frontMatter:()=>s,metadata:()=>i,toc:()=>l});var d=c(4848),t=c(8453);const s={title:"\u5de5\u4f5c\u539f\u7406",description:"\u95dc\u65bc\u6846\u67b6\u7684\u5e95\u5c64\u7d30\u7bc0"},r="\u5e95\u5c64\u5eab\u7684\u5167\u90e8\u7d30\u7bc0",i={id:"advanced-topics/how-it-works",title:"\u5de5\u4f5c\u539f\u7406",description:"\u95dc\u65bc\u6846\u67b6\u7684\u5e95\u5c64\u7d30\u7bc0",source:"@site/i18n/zh-Hant/docusaurus-plugin-content-docs/current/advanced-topics/how-it-works.mdx",sourceDirName:"advanced-topics",slug:"/advanced-topics/how-it-works",permalink:"/zh-Hant/docs/next/advanced-topics/how-it-works",draft:!1,unlisted:!1,editUrl:"https://google.com/docs/advanced-topics/how-it-works.mdx",tags:[],version:"current",frontMatter:{title:"\u5de5\u4f5c\u539f\u7406",description:"\u95dc\u65bc\u6846\u67b6\u7684\u5e95\u5c64\u7d30\u7bc0"},sidebar:"docs",previous:{title:"Advanced topics",permalink:"/zh-Hant/docs/next/category/advanced-topics"},next:{title:"\u7c21\u4ecb",permalink:"/zh-Hant/docs/next/advanced-topics/struct-components/introduction"}},o={},l=[{value:"<code>html!</code> \u5de8\u96c6\u7684\u5167\u90e8",id:"html-\u5de8\u96c6\u7684\u5167\u90e8",level:2},{value:"\u4ec0\u9ebc\u662f\u865b\u64ec DOM\uff1f",id:"\u4ec0\u9ebc\u662f\u865b\u64ec-dom",level:2},{value:"Yew \u8abf\u5ea6\u5668\u548c\u5143\u4ef6\u7bc4\u570d\u7684\u4e8b\u4ef6\u5faa\u74b0",id:"yew-\u8abf\u5ea6\u5668\u548c\u5143\u4ef6\u7bc4\u570d\u7684\u4e8b\u4ef6\u5faa\u74b0",level:2},{value:"\u9032\u4e00\u6b65\u95b1\u8b80",id:"\u9032\u4e00\u6b65\u95b1\u8b80",level:2}];function h(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",ul:"ul",...(0,t.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"\u5e95\u5c64\u5eab\u7684\u5167\u90e8\u7d30\u7bc0",children:"\u5e95\u5c64\u5eab\u7684\u5167\u90e8\u7d30\u7bc0"})}),"\n",(0,d.jsxs)(n.h2,{id:"html-\u5de8\u96c6\u7684\u5167\u90e8",children:[(0,d.jsx)(n.code,{children:"html!"})," \u5de8\u96c6\u7684\u5167\u90e8"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"html!"})," macro \u6703\u5c07\u4f7f\u7528\u985e\u4f3c HTML \u7684\u81ea\u8a02\u8a9e\u6cd5\u6240\u7de8\u5beb\u7684\u7a0b\u5f0f\u78bc\u8f49\u63db\u70ba\u6709\u6548\u7684 Rust \u7a0b\u5f0f\u78bc\u3002\u4f7f\u7528\u9019\u500b\u5de8\u96c6\u5c0d\u65bc\u958b\u767c Yew \u61c9\u7528\u7a0b\u5f0f\u4e26\u4e0d\u662f\u5fc5\u9700\u7684\uff0c\u4f46\u662f\u662f\u5efa\u8b70\u7684\u3002\u9019\u500b\u5de8\u96c6\u7522\u751f\u7684\u7a0b\u5f0f\u78bc\u4f7f\u7528\u4e86 Yew \u7684\u516c\u5171\u51fd\u5f0f\u5eab API\uff0c\u5982\u679c\u4f60\u9858\u610f\u7684\u8a71\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u3002\u8acb\u6ce8\u610f\uff0c\u6709\u4e9b\u65b9\u6cd5\u662f\u6709\u610f\u672a\u8a18\u9304\u7684\uff0c\u4ee5\u907f\u514d\u610f\u5916\u7684\u8aa4\u7528\u3002\u96a8\u8457 ",(0,d.jsx)(n.code,{children:"yew-macro"})," \u7684\u6bcf\u6b21\u66f4\u65b0\uff0c\u7522\u751f\u7684\u7a0b\u5f0f\u78bc\u5c07\u6703\u66f4\u52a0\u9ad8\u6548\uff0c\u4e26\u4e14\u53ef\u4ee5\u8655\u7406\u4efb\u4f55\u7834\u58de\u6027\u7684\u66f4\u6539\uff0c\u800c\u4e0d\u9700\u8981\u5c0d ",(0,d.jsx)(n.code,{children:"html!"})," \u8a9e\u6cd5\u9032\u884c\u5f88\u591a\uff08\u5982\u679c\u6709\u7684\u8a71\uff09\u4fee\u6539\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:["\u7531\u65bc ",(0,d.jsx)(n.code,{children:"html!"})," \u5de8\u96c6\u5141\u8a31\u60a8\u4ee5\u8072\u660e\u5f0f\u7684\u98a8\u683c\u7de8\u5beb\u7a0b\u5f0f\u78bc\uff0c\u56e0\u6b64\u60a8\u7684 UI \u4f48\u5c40\u7a0b\u5f0f\u78bc\u5c07\u8207\u70ba\u9801\u9762\u7522\u751f\u7684 HTML \u975e\u5e38\u76f8\u4f3c\u3002\u96a8\u8457\u60a8\u7684\u61c9\u7528\u7a0b\u5f0f\u8b8a\u5f97\u66f4\u52a0\u4e92\u52d5\u5f0f\uff0c\u60a8\u7684\u7a0b\u5f0f\u78bc\u5eab\u8b8a\u5f97\u66f4\u5927\uff0c\u9019\u7a2e\u65b9\u5f0f\u8b8a\u5f97\u8d8a\u4f86\u8d8a\u6709\u7528\u3002\u8207\u624b\u52d5\u7de8\u5beb\u6240\u6709\u64cd\u4f5c DOM \u7684\u7a0b\u5f0f\u78bc\u76f8\u6bd4\uff0c\u5de8\u96c6\u6703\u70ba\u60a8\u8655\u7406\u597d\u9019\u4e00\u5207\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,d.jsx)(n.code,{children:"html!"})," \u5de8\u96c6\u53ef\u80fd\u6703\u8b93\u4eba\u611f\u5230\u975e\u5e38\u795e\u5947\uff0c\u4f46\u5b83\u4e26\u6c92\u6709\u4ec0\u9ebc\u53ef\u96b1\u85cf\u7684\u3002\u5982\u679c\u60a8\u5c0d\u5b83\u7684\u5de5\u4f5c\u539f\u7406\u611f\u5230\u597d\u5947\uff0c\u53ef\u4ee5\u5617\u8a66\u5c55\u958b\u60a8\u7a0b\u5f0f\u4e2d\u7684 ",(0,d.jsx)(n.code,{children:"html!"})," \u5de8\u96c6\u547c\u53eb\u3002\u6709\u4e00\u500b\u6709\u7528\u7684\u6307\u4ee4\u53eb\u505a ",(0,d.jsx)(n.code,{children:"cargo expand"}),"\uff0c\u5b83\u5141\u8a31\u60a8\u67e5\u770b Rust \u5de8\u96c6\u7684\u5c55\u958b\u3002 ",(0,d.jsx)(n.code,{children:"cargo expand"})," \u4e26\u4e0d\u662f\u9810\u8a2d\u96a8 ",(0,d.jsx)(n.code,{children:"cargo"})," \u4e00\u8d77\u63d0\u4f9b\u7684\uff0c\u6240\u4ee5\u5982\u679c\u60a8\u9084\u6c92\u6709\u5b89\u88dd\u5b83\uff0c\u60a8\u9700\u8981\u4f7f\u7528 ",(0,d.jsx)(n.code,{children:"cargo install cargo-expand"})," \u4f86\u5b89\u88dd\u5b83\u3002 ",(0,d.jsx)(n.a,{href:"https://rust-analyzer.github.io/",children:"Rust-Analyzer"})," \u4e5f\u63d0\u4f9b\u4e86\u4e00\u500b[\u5f9eIDE \u4e2d\u53d6\u5f97\u5de8\u96c6\u8f38\u51fa\u7684\u6a5f\u5236](",(0,d.jsx)(n.a,{href:"https://rust-analyzer.github.io/manual.html",children:"https://rust-analyzer.github.io/manual.html"})," #expand-macro-recursively)\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"html!"})," \u5de8\u96c6\u7684\u8f38\u51fa\u901a\u5e38\u975e\u5e38\u7c21\u6f54\uff01\u9019\u662f\u4e00\u500b\u529f\u80fd\uff1a\u6a5f\u5668\u7522\u751f\u7684\u7a0b\u5f0f\u78bc\u6709\u6642\u53ef\u80fd\u6703\u8207\u61c9\u7528\u7a0b\u5f0f\u4e2d\u7684\u5176\u4ed6\u7a0b\u5f0f\u78bc\u885d\u7a81\u3002\u70ba\u4e86\u9632\u6b62\u554f\u984c\uff0c",(0,d.jsx)(n.code,{children:"proc_macro"})," \u9075\u5faa\u4e86\u300c\u885b\u751f\u300d\u898f\u5247\u3002\u4e00\u4e9b\u4f8b\u5b50\u5305\u62ec\uff1a"]}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\u70ba\u4e86\u78ba\u4fdd\u6b63\u78ba\u5f15\u7528 Yew \u5957\u4ef6\uff0c\u5de8\u96c6\u7522\u751f\u7684\u7a0b\u5f0f\u78bc\u4e2d\u4f7f\u7528 ",(0,d.jsx)(n.code,{children:"::yew::<module>"}),"\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u4f7f\u7528 ",(0,d.jsx)(n.code,{children:"yew::<module>"}),"\u3002\u9019\u4e5f\u662f\u70ba\u4ec0\u9ebc\u547c\u53eb ",(0,d.jsx)(n.code,{children:"::alloc::vec::Vec::new()"})," \u800c\u4e0d\u662f\u76f4\u63a5\u547c\u53eb ",(0,d.jsx)(n.code,{children:"Vec::new()"}),"\u3002"]}),"\n",(0,d.jsxs)(n.li,{children:["\u7531\u65bc\u53ef\u80fd\u6709 trait \u65b9\u6cd5\u540d\u7a31\u885d\u7a81\uff0c\u4f7f\u7528 ",(0,d.jsx)(n.code,{children:"<Type as Trait>"})," \u4f86\u78ba\u4fdd\u6211\u5011\u4f7f\u7528\u7684\u662f\u6b63\u78ba\u7684 trait \u6210\u54e1\u3002"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"\u4ec0\u9ebc\u662f\u865b\u64ec-dom",children:"\u4ec0\u9ebc\u662f\u865b\u64ec DOM\uff1f"}),"\n",(0,d.jsx)(n.p,{children:'DOM\uff08"\u6587\u4ef6\u7269\u4ef6\u6a21\u578b"\uff09\u662f\u7531\u700f\u89bd\u5668\u7ba1\u7406\u7684 HTML \u5167\u5bb9\u7684\u8868\u793a\u3002 "\u865b\u64ec" DOM \u53ea\u662f DOM \u7684\u4e00\u500b\u8a18\u61b6\u9ad4\u4e2d\u7684\u526f\u672c\u3002\u7ba1\u7406\u865b\u64ec DOM \u6703\u5c0e\u81f4\u66f4\u9ad8\u7684\u8a18\u61b6\u9ad4\u958b\u92b7\uff0c\u4f46\u53ef\u4ee5\u900f\u904e\u907f\u514d\u6216\u5ef6\u9072\u4f7f\u7528\u700f\u89bd\u5668 API \u4f86\u5be6\u73fe\u6279\u6b21\u548c\u66f4\u5feb\u7684\u8b80\u53d6\u3002'}),"\n",(0,d.jsx)(n.p,{children:'\u5728\u8a18\u61b6\u9ad4\u4e2d\u64c1\u6709 DOM \u7684\u526f\u672c\u5c0d\u65bc\u4fc3\u9032\u4f7f\u7528\u8072\u660e\u5f0f UI \u7684\u51fd\u5f0f\u5eab\u662f\u6709\u5e6b\u52a9\u7684\u3002\u8207\u9700\u8981\u7279\u5b9a\u7a0b\u5f0f\u78bc\u4f86\u63cf\u8ff0\u5982\u4f55\u6839\u64da\u4f7f\u7528\u8005\u4e8b\u4ef6\u4fee\u6539 DOM \u4e0d\u540c\uff0c\u7a0b\u5f0f\u5eab\u53ef\u4ee5\u4f7f\u7528\u4e00\u7a2e\u901a\u7528\u7684\u65b9\u6cd5\u4f86\u9032\u884c DOM "diffing"\u3002\u7576 Yew \u5143\u4ef6\u66f4\u65b0\u4e26\u5e0c\u671b\u66f4\u6539\u5176\u5448\u73fe\u65b9\u5f0f\u6642\uff0cYew \u5eab\u5c07\u5efa\u7acb\u865b\u64ec DOM \u7684\u7b2c\u4e8c\u500b\u526f\u672c\uff0c\u4e26\u76f4\u63a5\u5c07\u5176\u8207\u93e1\u50cf\u7576\u524d\u87a2\u5e55\u4e0a\u7684\u5167\u5bb9\u7684\u865b\u64ec DOM \u9032\u884c\u6bd4\u8f03\u3002\u5169\u8005\u4e4b\u9593\u7684 "diff"\uff08\u5dee\u7570\uff09\u53ef\u4ee5\u5206\u89e3\u70ba\u589e\u91cf\u66f4\u65b0\uff0c\u4e26\u8207\u700f\u89bd\u5668 API \u4e00\u8d77\u61c9\u7528\u3002\u4e00\u65e6\u66f4\u65b0\u61c9\u7528\uff0c\u820a\u7684\u865b\u64ec DOM \u526f\u672c\u5c07\u88ab\u4e1f\u68c4\uff0c\u65b0\u7684\u526f\u672c\u5c07\u88ab\u4fdd\u5b58\u4ee5\u4f9b\u5c07\u4f86\u7684\u5dee\u7570\u6aa2\u67e5\u3002'}),"\n",(0,d.jsx)(n.p,{children:'\u9019\u7a2e "diff" \u6f14\u7b97\u6cd5\u53ef\u4ee5\u96a8\u8457\u6642\u9593\u7684\u63a8\u79fb\u9032\u884c\u6700\u4f73\u5316\uff0c\u4ee5\u63d0\u9ad8\u8907\u96dc\u61c9\u7528\u7a0b\u5f0f\u7684\u6548\u80fd\u3002\u7531\u65bc Yew \u61c9\u7528\u7a0b\u5f0f\u662f\u900f\u904e WebAssembly \u904b\u884c\u7684\uff0c\u6211\u5011\u76f8\u4fe1 Yew \u5728\u672a\u4f86\u63a1\u7528\u66f4\u8907\u96dc\u7684\u6f14\u7b97\u6cd5\u65b9\u9762\u5177\u6709\u7af6\u722d\u512a\u52e2\u3002'}),"\n",(0,d.jsx)(n.p,{children:'Yew \u7684\u865b\u64ec DOM \u8207\u700f\u89bd\u5668 DOM \u4e0d\u5b8c\u5168\u4e00\u4e00\u5c0d\u61c9\u3002\u5b83\u9084\u5305\u62ec\u7528\u65bc\u7d44\u7e54 DOM \u5143\u7d20\u7684 "\u5217\u8868" \u548c "\u5143\u4ef6"\u3002\u5217\u8868\u53ef\u4ee5\u7c21\u55ae\u5730\u662f\u5143\u7d20\u7684\u6709\u5e8f\u5217\u8868\uff0c\u4f46\u4e5f\u53ef\u4ee5\u66f4\u5f37\u5927\u3002\u900f\u904e\u70ba\u6bcf\u500b\u6e05\u55ae\u5143\u7d20\u65b0\u589e "key" \u8a3b\u89e3\uff0c\u61c9\u7528\u7a0b\u5f0f\u958b\u767c\u4eba\u54e1\u53ef\u4ee5\u5e6b\u52a9 Yew \u9032\u884c\u984d\u5916\u7684\u6700\u4f73\u5316\uff0c\u4ee5\u78ba\u4fdd\u5728\u6e05\u55ae\u8b8a\u66f4\u6642\uff0c\u8a08\u7b97\u5dee\u7570\u66f4\u65b0\u6240\u9700\u7684\u5de5\u4f5c\u91cf\u6700\u5c0f\u3002\u540c\u6a23\uff0c\u5143\u4ef6\u63d0\u4f9b\u4e86\u81ea\u8a02\u908f\u8f2f\uff0c\u6307\u793a\u662f\u5426\u9700\u8981\u91cd\u65b0\u6e32\u67d3\uff0c\u4ee5\u5e6b\u52a9\u63d0\u9ad8\u6548\u80fd\u3002'}),"\n",(0,d.jsx)(n.h2,{id:"yew-\u8abf\u5ea6\u5668\u548c\u5143\u4ef6\u7bc4\u570d\u7684\u4e8b\u4ef6\u5faa\u74b0",children:"Yew \u8abf\u5ea6\u5668\u548c\u5143\u4ef6\u7bc4\u570d\u7684\u4e8b\u4ef6\u5faa\u74b0"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsxs)(n.em,{children:["\u8ca2\u737b\u6587\u4ef6 - \u6df1\u5165\u89e3\u91cb ",(0,d.jsx)(n.code,{children:"yew::scheduler"})," \u548c ",(0,d.jsx)(n.code,{children:"yew::html::scope"})," \u7684\u5de5\u4f5c\u539f\u7406"]})}),"\n",(0,d.jsx)(n.h2,{id:"\u9032\u4e00\u6b65\u95b1\u8b80",children:"\u9032\u4e00\u6b65\u95b1\u8b80"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://doc.rust-lang.org/stable/book/ch19-06-macros.html",children:"Rust \u624b\u518a\u4e2d\u95dc\u65bc\u5de8\u96c6\u7684\u66f4\u591a\u8cc7\u8a0a"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsxs)(n.a,{href:"https://github.com/dtolnay/cargo-expand",children:[(0,d.jsx)(n.code,{children:"cargo-expand"})," \u7684\u66f4\u591a\u8cc7\u8a0a"]})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsxs)(n.a,{href:"https://docs.rs/yew/*/yew/virtual_dom/index.html",children:[(0,d.jsx)(n.code,{children:"yew::virtual_dom"})," \u7684 API \u6587\u4ef6"]})}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(h,{...e})}):h(e)}},8453:(e,n,c)=>{c.d(n,{R:()=>r,x:()=>i});var d=c(6540);const t={},s=d.createContext(t);function r(e){const n=d.useContext(s);return d.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),d.createElement(s.Provider,{value:n},e.children)}}}]);