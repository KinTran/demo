"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[6004],{470:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>d});var r=t(4848),a=t(8453);const i={title:"Build a sample app"},l=void 0,o={id:"getting-started/build-a-sample-app",title:"Build a sample app",description:"Once you have the environment ready, you can either choose to use a starter template that contains",source:"@site/versioned_docs/version-0.21/getting-started/build-a-sample-app.mdx",sourceDirName:"getting-started",slug:"/getting-started/build-a-sample-app",permalink:"/docs/getting-started/build-a-sample-app",draft:!1,unlisted:!1,editUrl:"https://google.com/versioned_docs/version-0.21/getting-started/build-a-sample-app.mdx",tags:[],version:"0.21",frontMatter:{title:"Build a sample app"},sidebar:"docs",previous:{title:"Getting Started",permalink:"/docs/getting-started/introduction"},next:{title:"Examples",permalink:"/docs/getting-started/examples"}},s={},d=[{value:"Using a starter template",id:"using-a-starter-template",level:2},{value:"Setting up the application manually",id:"setting-up-the-application-manually",level:2},{value:"Create Project",id:"create-project",level:3},{value:"Run a hello world example",id:"run-a-hello-world-example",level:3},{value:"Setting up the project as a Yew web application",id:"setting-up-the-project-as-a-yew-web-application",level:3},{value:"Update Cargo.toml",id:"update-cargotoml",level:4},{value:"Update main.rs",id:"update-mainrs",level:4},{value:"Create index.html",id:"create-indexhtml",level:4},{value:"View your web application",id:"view-your-web-application",level:2},{value:"Congratulations",id:"congratulations",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Once you have the environment ready, you can either choose to use a starter template that contains\r\nthe boilerplate needed for a basic Yew app or manually set up a small project."}),"\n",(0,r.jsx)(n.h2,{id:"using-a-starter-template",children:"Using a starter template"}),"\n",(0,r.jsxs)(n.p,{children:["Install ",(0,r.jsx)(n.a,{href:"https://github.com/cargo-generate/cargo-generate",children:(0,r.jsx)(n.code,{children:"cargo-generate"})})," by following their installation instructions\r\nthen run the following command:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cargo generate --git https://github.com/yewstack/yew-trunk-minimal-template\n"})}),"\n",(0,r.jsx)(n.h2,{id:"setting-up-the-application-manually",children:"Setting up the application manually"}),"\n",(0,r.jsx)(n.h3,{id:"create-project",children:"Create Project"}),"\n",(0,r.jsx)(n.p,{children:"To get started, create a new cargo project."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cargo new yew-app\n"})}),"\n",(0,r.jsx)(n.p,{children:"Open the newly created directory."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd yew-app\n"})}),"\n",(0,r.jsx)(n.h3,{id:"run-a-hello-world-example",children:"Run a hello world example"}),"\n",(0,r.jsxs)(n.p,{children:["To verify the Rust environment is set up, run the initial project using ",(0,r.jsx)(n.code,{children:"cargo run"}),'. You should see\r\na "Hello World!" message.']}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cargo run\r\n# output: Hello World!\n"})}),"\n",(0,r.jsx)(n.h3,{id:"setting-up-the-project-as-a-yew-web-application",children:"Setting up the project as a Yew web application"}),"\n",(0,r.jsx)(n.p,{children:"To convert this simple command line application to a basic Yew web application, a few changes are needed."}),"\n",(0,r.jsx)(n.h4,{id:"update-cargotoml",children:"Update Cargo.toml"}),"\n",(0,r.jsxs)(n.p,{children:["Add ",(0,r.jsx)(n.code,{children:"yew"})," to the list of dependencies."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",metastring:"title=Cargo.toml",children:'[package]\r\nname = "yew-app"\r\nversion = "0.1.0"\r\nedition = "2021"\r\n\r\n[dependencies]\r\n# this is the development version of Yew\r\nyew = { git = "https://github.com/yewstack/yew/", features = ["csr"] }\n'})}),"\n",(0,r.jsxs)(n.admonition,{type:"info",children:[(0,r.jsxs)(n.p,{children:["You only need the feature ",(0,r.jsx)(n.code,{children:"csr"})," if you are building an application.\r\nIt will enable the ",(0,r.jsx)(n.code,{children:"Renderer"})," and all client-side rendering-related code."]}),(0,r.jsx)(n.p,{children:"If you are making a library, do not enable this feature as it will pull in\r\nclient-side rendering logic into the server-side rendering bundle."}),(0,r.jsxs)(n.p,{children:["If you need the Renderer for testing or examples, you should enable it\r\nin the ",(0,r.jsx)(n.code,{children:"dev-dependencies"})," instead."]})]}),"\n",(0,r.jsx)(n.h4,{id:"update-mainrs",children:"Update main.rs"}),"\n",(0,r.jsxs)(n.p,{children:["We need to generate a template that sets up a root Component called ",(0,r.jsx)(n.code,{children:"App"})," which renders a button\r\nthat updates its value when clicked. Replace the contents of ",(0,r.jsx)(n.code,{children:"src/main.rs"})," with the following code."]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["The call to ",(0,r.jsx)(n.code,{children:"yew::Renderer::<App>::new().render()"})," inside the ",(0,r.jsx)(n.code,{children:"main"})," function starts your application and mounts\r\nit to the page's ",(0,r.jsx)(n.code,{children:"<body>"})," tag. If you would like to start your application with any dynamic\r\nproperties, you can instead use ",(0,r.jsx)(n.code,{children:"yew::Renderer::<App>::with_props(..).render()"}),"."]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",metastring:",no_run, title=main.rs",children:'use yew::prelude::*;\r\n\r\n#[function_component]\r\nfn App() -> Html {\r\n    let counter = use_state(|| 0);\r\n    let onclick = {\r\n        let counter = counter.clone();\r\n        move |_| {\r\n            let value = *counter + 1;\r\n            counter.set(value);\r\n        }\r\n    };\r\n\r\n    html! {\r\n        <div>\r\n            <button {onclick}>{ "+1" }</button>\r\n            <p>{ *counter }</p>\r\n        </div>\r\n    }\r\n}\r\n\r\nfn main() {\r\n    yew::Renderer::<App>::new().render();\r\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"create-indexhtml",children:"Create index.html"}),"\n",(0,r.jsxs)(n.p,{children:["Finally, add an ",(0,r.jsx)(n.code,{children:"index.html"})," file in the root directory of your app."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",metastring:", title=index.html",children:'<!doctype html>\r\n<html>\r\n    <head>\r\n        <meta charset="utf-8" />\r\n        <title>Yew App</title>\r\n    </head>\r\n    <body></body>\r\n</html>\n'})}),"\n",(0,r.jsx)(n.h2,{id:"view-your-web-application",children:"View your web application"}),"\n",(0,r.jsx)(n.p,{children:"Run the following command to build and serve the application locally."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"trunk serve\n"})}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Add option '--open' to open your default browser ",(0,r.jsx)(n.code,{children:"trunk serve --open"}),"."]})}),"\n",(0,r.jsxs)(n.p,{children:["Trunk will rebuild your application if you modify any of its source code files.\r\nBy default server will listening at address '127.0.0.1' and port '8080' => ",(0,r.jsx)(n.a,{href:"http://127.0.0.1:8080",children:"http://localhost:8080"}),".\r\nTo change it, create the following file and edit as needed:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",metastring:'title="Trunk.toml"',children:'[serve]\r\n# The address to serve on LAN.\r\naddress = "127.0.0.1"\r\n# The address to serve on WAN.\r\n# address = "0.0.0.0"\r\n# The port to serve on.\r\nport = 8000\n'})}),"\n",(0,r.jsx)(n.h2,{id:"congratulations",children:"Congratulations"}),"\n",(0,r.jsx)(n.p,{children:"You have now successfully set up your Yew development environment, and built your first web application."}),"\n",(0,r.jsxs)(n.p,{children:["Experiment with this application and review the ",(0,r.jsx)(n.a,{href:"/docs/getting-started/examples",children:"examples"})," to further your learning."]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>o});var r=t(6540);const a={},i=r.createContext(a);function l(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);